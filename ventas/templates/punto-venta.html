{% extends "base.html" %} 
{% block header %}
	<header class="mdl-layout__header mdl-layout__header--scroll mdl-color--deep-orange-500">	  			
    	<div class="mdl-layout--large-screen-only mdl-layout__header-row">	    		
	    	<div class=" mdl-layout-spacer"></div>
	    	<div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right mdl-textfield--full-width">
    			<form>
		            <label class="mdl-button mdl-js-button mdl-button--icon" for="search-field">
		              	<i class="material-icons">search</i>
		            </label>
		            <div class="mdl-textfield__expandable-holder">
		              	<input class="mdl-textfield__input" type="text" id="search-field">
		            </div>
	            </form>
          	</div>
		</div>
    	<div class="mdl-typography--text-center ">
    		<div class="mdl-layout-title">
    			<h1 >{{page_title}}</h1>
    		</div>

    		
    	</div>
    	<div class="mdl-layout--large-screen-only mdl-layout__header-row">
    		<!---->
    	</div>	
    	<div class="mdl-layout__tab-bar mdl-js-ripple-effect mdl-color--deep-orange-A400"> 		
    		<a href="#orden" class="mdl-layout__tab is-active">Venta</a>
    		<a href="#productos" class="mdl-layout__tab">Productos</a>
          	
    	</div>	
    </header>
{% endblock %}

{% block contedor %}	
  	<main class="mdl-layout__content mdl-color--grey-100">
  		<form action=""  method="post" role="form">{% csrf_token %}	  		
	  	<div class="mdl-grid demo-content mdl-layout__tab-panel is-active" id="orden">
	  		<div class="mdl-grid">	  		
	  			<div class="demo-cards mdl-cell mdl-cell--3-col mdl-grid mdl-grid--no-spacing">	
	  				<div class="mdl-textfield mdl-js-textfield mdl-cell--12-col">
				  		<select class="mdl-textfield__input" type="text" name="cliente" id="cliente" required>
				  			<option selected>Seleccione un cliente ...</option>
				  			{% for c in clientes %}
				  				<option value="{{c.id}}">{{c.nombre}}</option>
				  			{% endfor %}
				  		</select>      
					    <label class="mdl-textfield__label" for="cliente">Cliente</label>
				  	</div>	
				  	<div class="mdl-textfield mdl-js-textfield mdl-cell--12-col">
				  		<select class="mdl-textfield__input" type="text" name="tipo_pago" id="tipo_pago" required>
				  			<option selected>Tipo de Pago ...</option>
				  			{% for tp in tipo_pago %}
				  				<option value="{{tp.id}}">{{tp.nombre}}</option>
				  			{% endfor %}
				  		</select>      
					    <label class="mdl-textfield__label" for="tipo_pago">Tipo de Pago</label>
				  	</div>
				  	<input class="mdl-textfield__input" type="hidden" name="estatus_orden" id="estatus_orden" value="1" required/>
				  	<input class="mdl-textfield__input" type="hidden" name="estatus_cobranza" id="estatus_cobranza" value="1" required/>	
				  	<input type="hidden" name="total" value="" required="required" /></input>
		    		<input type="hidden" name="total_peso" value="" required="required" /></input>	
		  			
				</div>
				<div class="demo-cards mdl-cell mdl-cell--9-col mdl-grid mdl-grid--no-spacing">	
					<div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid ">
						<table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-fullwidth">
							<thead>
								<tr>
								  <th class="mdl-data-table__cell--non-numeric">Producto</th>
								  <th>Catidad</th>
								  <th>Precio Unitatio</th>
								  <th>Total</th>
								</tr>
							</thead>
							<tbody>
								<tr>
								  <td class="mdl-data-table__cell--non-numeric">Acrylic (Transparent)</td>
								  <td>25</td>
								  <td>$2.90</td>
								  <td>$2.90</td>
								</tr>
								<tr>
								  <td class="mdl-data-table__cell--non-numeric">Plywood (Birch)</td>
								  <td>50</td>
								  <td>$1.25</td>
								  <td>$2.90</td>
								</tr>
								<tr>
								  <td class="mdl-data-table__cell--non-numeric">Laminate (Gold on Blue)</td>
								  <td>10</td>
								  <td>$2.35</td>
								  <td>$2.90</td>
								</tr>
							</tbody>
						</table>
					</div>			    	
		    	</div>
	    	</div>
	  	</div>
	  	<div class="mdl-grid demo-content mdl-layout__tab-panel " id="productos">
	  		<div class="mdl-grid">	
	  		<div class="demo-cards mdl-cell mdl-cell--12-col mdl-grid mdl-grid--no-spacing">	
					<div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--11-col mdl-grid ">
						<table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-fullwidth">
							<thead>
								<tr>
								  <th class="mdl-data-table__cell--non-numeric">Producto</th>
								  <th>SKU</th>
								  <th>Existencia</th>
								</tr>
							</thead>
							<tbody>
								{% for p in productos %}
								<tr>
								  <td class="mdl-data-table__cell--non-numeric">{{p.nombre}}</td>
								  <td>{{p.sku}}</td>
								  <td>{{p.stock}}</td>								  
								</tr>								
								{% endfor %}
							</tbody>
						</table>
					</div>			    	
		    	</div>
	  		</div>
	  	</div>
	  	</form>
   	</main>
   	<footer class="mdl-mega-footer">	    
	  	<div class="mdl-mega-footer__bottom-section">
	  		<div class="mdl-mega-footer__left-section">
	    		<div class="mdl-textfield mdl-js-textfield">	    			
				    <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="categoria">
				    <label class="mdl-textfield__label" for="categoria">Cantidad</label>
				    <span class="mdl-textfield__error">¡No es número!</span>
			  	</div>
			  	<div class="mdl-textfield mdl-js-textfield">
			  		<input class="mdl-textfield__input" type="text" id="producto">
    				<label class="mdl-textfield__label" for="producto">Añadir Producto...</label>
    			</div>
    			<input type="hidden" id="topicID" />
	    	</div>
		    <div class="mdl-mega-footer__right-section">
		    	<div>Total: $</div>
		    	
		    </div>
	  	</div>
	</footer>
    
{% endblock %}
{% block adicional-scripts %}
<script type="text/javascript">
	var productos= [
	{% for p in productos %}
	    {
	        value: "{{p.sku}}",
	        label: "{{p.nombre}}",
	        id: "{{p.id}}"
	    },
    {% endfor %}
    {
        value: "",
        label: "",
        id: ""
    }
];

$(document).ready(function() {
    $( "#producto" ).autocomplete({
        minLength: 0,
        source: productos,
        focus: function( event, ui ) {
            $( "#producto" ).val( ui.item.label );
            return false;
        },
        select: function( event, ui ) {
            $( "#producto" ).val( ui.item.label );
            $("#topicID").val(ui.item.id);
            /*$( "#results").text($("#topicID").val());    */
            return false;
    }
})

});

</script>
{% endblock %}
